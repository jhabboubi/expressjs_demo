<%- include('./partials/header.ejs') %>
    <%- include('./partials/nav.ejs') %>

    <!-- Mashead header-->
    <header class="masthead">
      <div class="container px-5">
        <div class="row gx-5 align-items-center">
          <div class="col-lg-6">
            <!-- Mashead text and app badges-->
            <div class="mb-5 mb-lg-0 text-center text-lg-start">
              <h1 class="display-1 lh-1 mb-3 text-uppercase">
                <%= title.tech %>
              </h1>
              <p class="lead fw-normal text-muted mb-5">
                Launch your mobile app landing page faster with this free, open
                source theme from Start Bootstrap!
              </p>
              <div class="d-flex flex-column flex-lg-row align-items-center">

                <form action="/register" method="POST" class="needs-validation" novalidate>
                    <div class="d-flex flex-row justify-content-center gap-2">
                        <div class="mb-3">
                        <label for="fname" class="form-label">First Name</label>
                        <input type="text" class="form-control" id="fname" name="fname" aria-describedby="fnameHelp" required>
                        <div class="valid-feedback">
                            
                        </div>
                      </div>
                    
                    
                        <div class="mb-3">
                        <label for="lname" class="form-label">Last Name</label>
                        <input type="text" class="form-control" id="lname" name="lname" aria-describedby="lnameHelp" required>
                      </div>
                      <div class="valid-feedback">
                            
                      </div>
                    </div>
                    <div class="mb-3">
                      <label for="email" class="form-label">Email</label>
                      <input type="email" class="form-control" id="email" name="email" aria-describedby="emailHelp" required>
                      <div class="valid-feedback">
                            
                      </div>
                    </div>
                    <div class="mb-3">
                      <label for="password" class="form-label">Password</label>
                      <input type="password" class="form-control" id="password" name="password" aria-describedby="passwordHelp" required autocomplete="">
                      <div class="valid-feedback">
                            
                      </div>
                    </div>
                    <div class="mb-3 form-check">
                      <input type="checkbox" class="form-check-input" id="terms" aria-describedby="termsHelp" required>
                      <label class="form-check-label text-right" for="terms">Agree to Terms And Conditions</label>
                    </div>
                    <div class="valid-feedback">
                            
                    </div>
                    <button type="submit" class="btn btn-primary">Submit</button>
                  </form>

                 
              </div>
              <div id="isSuccess">
                <% if (locals.isSuccess) { %>
                 

                  <div class="alert alert-info alert-dismissible fade show" role="alert">
                    <strong>Successfully Submission!</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
                  </div>

              <%} %>
              
            </div>
            </div>
          </div>
          <div class="col-lg-6">
            <!-- Masthead device mockup feature-->
            <div class="masthead-device-mockup">
              <svg
                class="circle"
                viewBox="0 0 100 100"
                xmlns="http://www.w3.org/2000/svg"
              >
                <defs>
                  <linearGradient
                    id="circleGradient"
                    gradientTransform="rotate(45)"
                  >
                    <stop class="gradient-start-color" offset="0%"></stop>
                    <stop class="gradient-end-color" offset="100%"></stop>
                  </linearGradient>
                </defs>
                <circle cx="50" cy="50" r="50"></circle></svg
              ><svg
                class="shape-1 d-none d-sm-block"
                viewBox="0 0 240.83 240.83"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  x="-32.54"
                  y="78.39"
                  width="305.92"
                  height="84.05"
                  rx="42.03"
                  transform="translate(120.42 -49.88) rotate(45)"
                ></rect>
                <rect
                  x="-32.54"
                  y="78.39"
                  width="305.92"
                  height="84.05"
                  rx="42.03"
                  transform="translate(-49.88 120.42) rotate(-45)"
                ></rect></svg
              ><svg
                class="shape-2 d-none d-sm-block"
                viewBox="0 0 100 100"
                xmlns="http://www.w3.org/2000/svg"
              >
                <circle cx="50" cy="50" r="50"></circle>
              </svg>
              <div class="device-wrapper">
                <div
                  class="device"
                  data-device="iPhoneX"
                  data-orientation="portrait"
                  data-color="black"
                >
                  <div class="screen bg-black">
                    <!-- PUT CONTENTS HERE:-->
                    <!-- * * This can be a video, image, or just about anything else.-->
                    <!-- * * Set the max width of your media to 100% and the height to-->
                    <!-- * * 100% like the demo example below.-->
                    <video
                      muted="muted"
                      autoplay=""
                      loop=""
                      style="max-width: 100%; height: 100%"
                    >
                      <source
                        src="assets/img/demo-screen.mp4"
                        type="video/mp4"
                      />
                    </video>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </header>
    <!-- Quote/testimonial aside-->
    <aside class="text-center bg-gradient-primary-to-secondary">
      <div class="container px-5">
        <div class="row gx-5 justify-content-center">
          <div class="col-xl-8">
            <div class="h2 fs-1 text-white mb-4">
              "An intuitive solution to a common problem that we all face,
              wrapped up in a single app!"
            </div>
            <img src="assets/img/tnw-logo.svg" alt="..." style="height: 3rem" />
          </div>
        </div>
      </div>
    </aside>

<script>

   addEventListener('DOMContentLoaded',async (event)=> {

    const options = {
      enableHighAccuracy: true,
      timeout: 5000,
      maximumAge: 0,
    };
    
    function success(pos) {
      const crd = pos.coords;
    
      console.log("Your current position is:");
      console.log(`Latitude : ${crd.latitude}`);
      console.log(`Longitude: ${crd.longitude}`);
      console.log(`More or less ${crd.accuracy} meters.`);
      const url = `/location/${crd.latitude}/${crd.longitude}`;
      fetch(url)
      .then((res) => res.json())
      .then((data) => {
        console.log(data);
        weatherNow = document.getElementById("weatherNow");
        weatherNow.innerText = `${data.city}: ${data.temp}`;
      })
      .catch(e => console.log("Location can't be sent"))

    }
    
    function error(err) {
      console.warn(`ERROR(${err.code}): ${err.message}`);
    }
    
    navigator.geolocation.getCurrentPosition(success, error, options);


     
    
      

  });

</script>

       <!-- Footer-->
<%- include('./partials/footer.ejs') %>
  
